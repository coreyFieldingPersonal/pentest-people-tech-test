const mockResultsPagination = (arr: any[], size: number) => {
    const items = []

    for (let i = 0; i < arr.length; i += size) {
        const pageChunk = arr.slice(i, i + size)
        items.push(pageChunk)
    }

    return { 
        items,
        pageCount: items.length
     }
}

export async function fetchPaginatedVulnerabilities(page: number) {
    try {
        const response = await fetch('http://localhost:3000/data').then(res => {
            if (res.ok) return res.json()
            else throw res
        })

        const {items, pageCount} = mockResultsPagination(response, 5)

        return {
            items: items[page],
            count: pageCount
        }

    } catch (err) {
        console.log(err)
    }
}